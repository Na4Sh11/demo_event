(this.webpackJsonpevent=this.webpackJsonpevent||[]).push([[0],{24:function(e,t,a){},36:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(28),c=a.n(s),i=(a(36),a(8)),l=a(4),o=a(10),j=(a(23),a(24),a(58)),d=a(13),u=a(9);var b=new class{constructor(){this.token=null}setToken(e){this.token=e}getToken(){return this.token}clearToken(){this.token=null}};const h="http://localhost:5001",O=async()=>{try{return await b.getToken()}catch(e){throw console.error("Error getting token:",e),e}},v=async e=>{try{const t=await O();return j.a.get(`${h}/users/${e}`,{headers:{Authorization:`Bearer ${t}`}})}catch(t){throw console.error("Error fetching user by ID:",t),t}};var x=a(1);var m=e=>{var t;let{event:a={},userFavorites:n=[]}=e;const[s,c]=Object(r.useState)(!1),{loginWithRedirect:l,isAuthenticated:u,user:b}=Object(i.b)(),{name:v="Unknown Event",localDate:m,localTime:p,images:g=[],id:y}=a;Object(r.useEffect)((()=>{n.includes(y)&&c(!0)}),[n,y]);return Object(x.jsxs)("div",{className:"event-card",children:[Object(x.jsxs)(o.b,{to:`/events/${y}`,className:"event-banner",children:[Object(x.jsx)("img",{src:(null===(t=g[0])||void 0===t?void 0:t.url)||"https://via.placeholder.com/300",alt:v,className:"event-image"}),Object(x.jsxs)("div",{className:"event-info",children:[Object(x.jsx)("h3",{children:v}),Object(x.jsxs)("p",{children:["Date: ",new Date(m).toLocaleDateString()]}),Object(x.jsxs)("p",{children:["Time: ",p]})]})]}),Object(x.jsx)("button",{className:`btn ${s?"btn-danger":"btn-outline-danger"} favorite-button`,onClick:async e=>{if(e.stopPropagation(),u)try{c(!s),s?await(async(e,t)=>{try{const a=await O();return j.a.delete(`${h}/removeFromFavorites`,{headers:{Authorization:`Bearer ${a}`},data:{userId:e,eventId:t}})}catch(a){throw console.error("Error removing event from favorites:",a),a}})(y,b.sub):await(async(e,t)=>{try{const a=await O();return j.a.post(`${h}/users/addToFavourites`,{eventId:e,userId:t},{headers:{Authorization:`Bearer ${a}`}})}catch(a){throw console.error("Error adding to favorites:",a),a}})(y,b.sub),console.log("Favorite status updated")}catch(t){console.error("Error updating favorite status:",t),c(!s)}else l()},"aria-label":s?"Remove from favorites":"Add to favorites",children:Object(x.jsx)(d.e,{className:s?"text-danger":"text-muted"})})]})};var p=e=>{let{searchQuery:t}=e;const[a,n]=Object(r.useState)([]),[s,c]=Object(r.useState)(!0),[l,o]=Object(r.useState)(null),{isAuthenticated:d,loginWithRedirect:u}=Object(i.b)();Object(r.useEffect)((()=>{(async()=>{try{const e=await j.a.get("http://localhost:5001/events");n(e.data)}catch(l){o("Error fetching events. Please try again later."),console.error("Error fetching events:",l)}finally{c(!1)}})()}),[]);const b=a.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())));return s?Object(x.jsx)("div",{children:"Loading..."}):l?Object(x.jsx)("div",{children:l}):Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Upcoming Events"}),Object(x.jsx)("div",{className:"event-list",children:b.map((e=>Object(x.jsx)(m,{event:e,onFavoriteClick:()=>{return t=e.id,void(d?console.log("Favorite clicked for event:",t):u());var t},onDetailsClick:()=>{return t=e.id,void console.log("Details clicked for event:",t);var t},isFavorite:!1},e.id)))}),!d&&Object(x.jsx)("button",{onClick:()=>u(),children:"Login"})]})},g=a(18),y=a.n(g);var f=()=>{const{user:e,isAuthenticated:t,getAccessTokenSilently:a}=Object(i.b)(),[n,s]=Object(r.useState)(null),[c,o]=Object(r.useState)({}),[d,u]=Object(r.useState)([]),[b,m]=Object(r.useState)(null),[p,g]=Object(r.useState)(!0),f=Object(l.o)();Object(r.useEffect)((()=>{t&&e&&C(e.sub)}),[t,e]);const C=async e=>{try{const t={Authorization:`Bearer ${await a()}`,"Content-Type":"application/json"},r=(await v(e)).data.user;s(r),console.log("Fetched User Data:",r);const n=await(async(e,t)=>{try{return await j.a.post(`${h}/users/getUserHistory`,{userId:e},{headers:t})}catch(b){throw console.error("Error fetching user history:",b),b}})(e,t),c=n.data;console.log("History Response:",n),console.log("History Data:",c);const i=c.bookedEvents||[];u(i),console.log("Fetched Booked Events:",i);const l=[...new Set([...r.favorites||[],...i.map((e=>e.event_id))||[]])];if(l.length>0){const e=l.map((e=>(async e=>{try{const t=await O();return j.a.get(`${h}/events/${e}`,{headers:{Authorization:`Bearer ${t}`}})}catch(b){throw console.error("Error fetching event by ID:",b),b}})(e))),t=await Promise.all(e),a={};t.forEach((e=>{a[e.data.id]=e.data})),o(a)}}catch(t){m("Failed to fetch user data"),console.error("Error fetching user data:",t)}finally{g(!1)}},E=async(e,t,r)=>{const s=y()().format("YYYY-MM-DD");if(y()(s).isAfter(r))alert("Event is expired.");else try{await a();await(async(e,t,a)=>{try{const r=await O();return j.a.put(`${h}/events/updateUserEventStatus`,{userId:e,eventId:t,newStatus:a},{headers:{Authorization:`Bearer ${r}`}})}catch(b){throw console.error("Error updating event status:",b),b}})(n.id,e,t),alert("Status updated successfully"),C(n.id)}catch(c){console.error("Error updating status:",c),alert("Failed to update status.")}};return p?Object(x.jsx)("div",{children:"Loading..."}):b?Object(x.jsx)("div",{children:b}):Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Profile Page"}),n?Object(x.jsxs)("div",{children:[Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Name:"})," ",n.name]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Email:"})," ",n.email]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Organization:"})," ",n.organization]}),Object(x.jsx)("button",{onClick:()=>{f("/create-event")},children:"Create Event"}),Object(x.jsx)("h3",{children:"Favorites"}),Object(x.jsx)("ul",{children:n.favorites&&n.favorites.map((e=>{var t;return Object(x.jsx)("li",{children:(null===(t=c[e])||void 0===t?void 0:t.name)||e},e)}))}),Object(x.jsx)("h3",{children:"Booked Events"}),Object(x.jsx)("ul",{children:d.map((e=>{var t;return Object(x.jsxs)("li",{children:[(null===(t=c[e.event_id])||void 0===t?void 0:t.name)||e.event_id," - ",e.status,Object(x.jsx)("button",{onClick:()=>E(e.event_id,"going",e.event_date),children:"Mark as Going"}),Object(x.jsx)("button",{onClick:()=>E(e.event_id,"not-going",e.event_date),children:"Mark as Not Going"}),y()().isAfter(e.event_date)&&Object(x.jsx)("span",{children:" (Event is expired)"})]},e.event_id)}))})]}):Object(x.jsx)("div",{children:"No user data available."})]})};var C=()=>{const{user:e,isAuthenticated:t,getAccessTokenSilently:a}=Object(i.b)(),[n,s]=Object(r.useState)(""),[c,o]=Object(r.useState)(""),[d,b]=Object(r.useState)(""),[m,p]=Object(r.useState)(""),[g,y]=Object(r.useState)(""),[f,C]=Object(r.useState)(""),[E,N]=Object(r.useState)(null),[S,I]=Object(r.useState)(!1),w=Object(l.o)(),[A,k]=Object(r.useState)(null);Object(r.useEffect)((()=>{t&&T()}),[t]);const T=async()=>{try{await a({authorizationParams:{audience:u.REACT_APP_AUTH0_AUDIENCE,scope:["openid","profile","email"].join(" ")}});const t=await v(e.sub);k(t.data.user)}catch(t){N("Failed to fetch user data"),console.error("Error fetching user data:",t)}};return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Create Event"}),S&&Object(x.jsx)("p",{children:"Event created successfully!"}),E&&Object(x.jsx)("p",{children:E}),Object(x.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!A)return void N("User data not loaded");const t={event:{id:`event-${Date.now()}`,name:n,dates:{start:{localDate:c}},classifications:[{segment:{name:"General"}}],no_of_tickets:parseInt(g),price:parseFloat(f),userId:A.id},venue:{id:`venue-${Date.now()}`,name:d,city:{name:"Sample City"}}};try{await a({authorizationParams:{audience:u.REACT_APP_AUTH0_AUDIENCE,scope:["openid","profile","email"].join(" ")}});const e=await(async e=>{try{const t=await O();return j.a.post(`${h}/events`,e,{headers:{Authorization:`Bearer ${t}`}})}catch(E){throw console.error("Error creating event:",E),E}})(t);200===e.status?(I(!0),w("/")):N("Failed to create event")}catch(r){N("An error occurred while creating the event"),console.error("Error creating event:",r)}},children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Event Name:"}),Object(x.jsx)("input",{type:"text",value:n,onChange:e=>s(e.target.value),required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Event Date:"}),Object(x.jsx)("input",{type:"date",value:c,onChange:e=>o(e.target.value),required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Location:"}),Object(x.jsx)("input",{type:"text",value:d,onChange:e=>b(e.target.value),required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Description:"}),Object(x.jsx)("textarea",{value:m,onChange:e=>p(e.target.value),required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"No. of Tickets:"}),Object(x.jsx)("input",{type:"number",value:g,onChange:e=>y(e.target.value),required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Price:"}),Object(x.jsx)("input",{type:"number",value:f,onChange:e=>C(e.target.value),required:!0})]}),Object(x.jsx)("button",{type:"submit",children:"Create Event"})]})]})},E=a(59),N=a(60);var S=()=>{const{user:e,isAuthenticated:t}=Object(i.b)(),{eventId:a}=Object(l.q)(),[n,s]=Object(r.useState)(""),[c,o]=Object(r.useState)(""),[u,b]=Object(r.useState)(""),[v,m]=Object(r.useState)(""),[p,g]=Object(r.useState)(""),[y,f]=Object(r.useState)(""),[C,S]=Object(r.useState)(1),[I,w]=Object(r.useState)(!0),[A,k]=Object(r.useState)(!1),T=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,D=/^\d{16}$/,F=/^(0[1-9]|1[0-2])\/\d{2}$/,_=/^\d{3,4}$/;return Object(x.jsxs)("div",{className:"payment-page",children:[Object(x.jsx)("h1",{children:"Payment"}),Object(x.jsxs)(E.a,{children:[Object(x.jsxs)(E.a.Group,{controlId:"formFirstName",children:[Object(x.jsx)(E.a.Label,{children:"First Name"}),Object(x.jsx)(E.a.Control,{type:"text",placeholder:"Enter your first name",value:n,onChange:e=>s(e.target.value),required:!0})]}),Object(x.jsxs)(E.a.Group,{controlId:"formLastName",children:[Object(x.jsx)(E.a.Label,{children:"Last Name"}),Object(x.jsx)(E.a.Control,{type:"text",placeholder:"Enter your last name",value:c,onChange:e=>o(e.target.value),required:!0})]}),Object(x.jsxs)(E.a.Group,{controlId:"formEmail",children:[Object(x.jsx)(E.a.Label,{children:"Email Address"}),Object(x.jsx)(E.a.Control,{type:"email",placeholder:"Enter your email",value:u,onChange:e=>b(e.target.value),isInvalid:!I&&!T.test(u),required:!0}),Object(x.jsx)(E.a.Control.Feedback,{type:"invalid",children:"Please enter a valid email address."})]}),Object(x.jsxs)(E.a.Group,{controlId:"formCardNumber",children:[Object(x.jsx)(E.a.Label,{children:"Card Number"}),Object(x.jsx)(E.a.Control,{type:"text",placeholder:"Enter your card number",value:v,onChange:e=>m(e.target.value),isInvalid:!I&&!D.test(v),required:!0}),Object(x.jsx)(E.a.Control.Feedback,{type:"invalid",children:"Please enter a valid 16-digit card number."})]}),Object(x.jsxs)(E.a.Group,{controlId:"formExpiryDate",children:[Object(x.jsx)(E.a.Label,{children:"Expiry Date"}),Object(x.jsx)(E.a.Control,{type:"text",placeholder:"MM/YY",value:p,onChange:e=>g(e.target.value),isInvalid:!I&&!F.test(p),required:!0}),Object(x.jsx)(E.a.Control.Feedback,{type:"invalid",children:"Please enter a valid expiry date (MM/YY)."})]}),Object(x.jsxs)(E.a.Group,{controlId:"formCVV",children:[Object(x.jsx)(E.a.Label,{children:"CVV"}),Object(x.jsx)(E.a.Control,{type:"text",placeholder:"Enter CVV",value:y,onChange:e=>f(e.target.value),isInvalid:!I&&!_.test(y),required:!0}),Object(x.jsx)(E.a.Control.Feedback,{type:"invalid",children:"Please enter a valid CVV (3 or 4 digits)."})]}),Object(x.jsxs)(E.a.Group,{controlId:"formNoOfTickets",children:[Object(x.jsx)(E.a.Label,{children:"Number of Tickets"}),Object(x.jsx)(E.a.Control,{type:"number",value:C,onChange:e=>S(Number(e.target.value)),required:!0})]}),Object(x.jsx)(N.a,{variant:"primary",onClick:async()=>{if(T.test(u)&&D.test(v)&&F.test(p)&&_.test(y)){w(!0);const a=/\/events\/([^/]+)\/payment/,r=window.location.href.match(a),n=r?r[1]:null;console.log("eventID in paymentpage"+n);try{if(e){const t=await(async(e,t,a)=>{const r=await O();return console.log("here at purchase"+e),console.log("here event "+t),j.a.post(`${h}/users/buyTickets`,{userId:e,eventId:t,noOfTickets:a},{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})})(e.sub,n,C);200===t.status?(k(!0),console.log("Tickets purchased successfully")):console.error("Failed to purchase tickets:",t.data.error)}else console.error("User is not authenticated")}catch(t){console.error("Error during payment:",t)}}else w(!1)},children:"Submit Payment"})]}),A&&Object(x.jsxs)("div",{className:"payment-success mt-4",children:[Object(x.jsx)(d.d,{color:"green",size:"2em"}),Object(x.jsx)("p",{children:"Purchase successful!"}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"First Name:"})," ",n]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Last Name:"})," ",c]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Email:"})," ",u]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Event:"})," Concert"]}),Object(x.jsxs)("div",{className:"card-icons-container mt-2",children:[Object(x.jsx)(d.c,{className:"card-icon"}),Object(x.jsx)(d.b,{className:"card-icon"}),Object(x.jsx)(d.a,{className:"card-icon"})]})]})]})};var I=()=>{const{user:e,isAuthenticated:t,getAccessTokenSilently:a}=Object(i.b)(),[n,s]=Object(r.useState)(""),[c,o]=Object(r.useState)(""),[j,d]=Object(r.useState)(""),[b,h]=Object(r.useState)(""),[O,v]=Object(r.useState)(""),[m,p]=Object(r.useState)(""),[g,y]=Object(r.useState)(""),[f,C]=Object(r.useState)(""),[E,N]=Object(r.useState)(""),[S,I]=Object(r.useState)(""),[w,A]=Object(r.useState)(""),[k,T]=Object(r.useState)(""),[D,F]=Object(r.useState)(""),[_,P]=Object(r.useState)(""),[U,z]=Object(r.useState)(""),[L,R]=Object(r.useState)(""),[q,$]=Object(r.useState)(null),[M,V]=Object(r.useState)(!1),[W,B]=Object(r.useState)(null),H=Object(l.o)();Object(r.useEffect)((()=>{t&&J()}),[t]);const J=async()=>{try{const t=await a({authorizationParams:{audience:u.REACT_APP_AUTH0_AUDIENCE,scope:"openid profile email"}}),r=await fetch(`/users/${e.sub}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error("Failed to fetch user data");const n=await r.json();B(n.user)}catch(t){$("Failed to fetch user data"),console.error("Error fetching user data:",t)}};return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Create Event"}),M&&Object(x.jsx)("p",{children:"Event created successfully!"}),q&&Object(x.jsx)("p",{children:q}),Object(x.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!W)return void $("User data not loaded");const t={id:`event-${Date.now()}`,name:n||null,type:g||null,url:f||null,locale:E||null,images:S||null,sales:{public:{startDateTime:w||null,endDateTime:k||null}},localDate:c?new Date(c).toISOString():null,localTime:D||null,timezone:_||null,statusCode:U||null,category:L||"",posted_by:W?{auth0_id:W.auth0_id}:null,no_of_tickets:parseInt(O,10)||null,price:parseFloat(m)||null,venue:{id:`venue-${Date.now()}`},classifications:null};try{(await fetch("http://localhost:5001/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?(V(!0),H("/")):$("Failed to create event")}catch(a){$("An error occurred while creating the event"),console.error("Error creating event:",a)}},children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Event Name:"}),Object(x.jsx)("input",{type:"text",value:n,onChange:e=>s(e.target.value),required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Event Type:"}),Object(x.jsx)("input",{type:"text",value:g,onChange:e=>y(e.target.value)})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Event URL:"}),Object(x.jsx)("input",{type:"text",value:f,onChange:e=>C(e.target.value)})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Event Locale:"}),Object(x.jsx)("input",{type:"text",value:E,onChange:e=>N(e.target.value)})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Event Images (comma-separated URLs):"}),Object(x.jsx)("input",{type:"text",value:S,onChange:e=>I(e.target.value)})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Sales Start Date:"}),Object(x.jsx)("input",{type:"datetime-local",value:w,onChange:e=>A(e.target.value)})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Sales End Date:"}),Object(x.jsx)("input",{type:"datetime-local",value:k,onChange:e=>T(e.target.value)})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Event Date:"}),Object(x.jsx)("input",{type:"date",value:c,onChange:e=>o(e.target.value),required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Local Time:"}),Object(x.jsx)("input",{type:"text",value:D,onChange:e=>F(e.target.value)})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Timezone:"}),Object(x.jsx)("input",{type:"text",value:_,onChange:e=>P(e.target.value)})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Status Code:"}),Object(x.jsx)("input",{type:"text",value:U,onChange:e=>z(e.target.value)})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Category:"}),Object(x.jsx)("input",{type:"text",value:L,onChange:e=>R(e.target.value)})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Location:"}),Object(x.jsx)("input",{type:"text",value:j,onChange:e=>d(e.target.value),required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Description:"}),Object(x.jsx)("textarea",{value:b,onChange:e=>h(e.target.value),required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"No. of Tickets:"}),Object(x.jsx)("input",{type:"number",value:O,onChange:e=>v(e.target.value),required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Price:"}),Object(x.jsx)("input",{type:"number",value:m,onChange:e=>p(e.target.value),required:!0})]}),Object(x.jsx)("button",{type:"submit",children:"Create Event"})]})]})};var w=function(){const{loginWithRedirect:e,logout:t,user:a,isAuthenticated:n,getAccessTokenSilently:s,isLoading:c}=Object(i.b)(),[d,m]=Object(r.useState)(!1),[g,y]=Object(r.useState)(""),[E,N]=Object(r.useState)(!1),[w,A]=Object(r.useState)(""),[k,T]=Object(r.useState)(""),[D,F]=Object(r.useState)(""),[_,P]=Object(r.useState)(""),U=(Object(l.o)(),["openid","profile","email"]);Object(r.useEffect)((()=>{(async()=>{if(n)try{await z()}catch(e){console.error("Error handling auth:",e)}})()}),[n]);const z=async()=>{if(n&&a)try{const e=await s({authorizationParams:{audience:u.REACT_APP_AUTH0_AUDIENCE,scope:U.join(" ")}});b.setToken(e);const t=await v(a.sub);t.data?!t.data.organization&&a.sub.startsWith("google")&&(P(a.email),T(t.data.firstName||a.given_name||""),F(t.data.lastName||a.family_name||""),N(!0)):a.sub.startsWith("google")?(P(a.email),T(a.given_name||""),F(a.family_name||""),N(!0)):await async function(){if(n&&a)try{console.log("User stored successfully")}catch(e){console.error("Error saving user data:",e)}}()}catch(e){console.error("Error checking user in database:",e)}};return c?Object(x.jsx)("div",{children:"Loading..."}):Object(x.jsxs)("div",{className:d?"dark-mode":"light-mode",children:[Object(x.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light",children:[Object(x.jsx)(o.b,{className:"navbar-brand",to:"/",children:"Event Finder"}),Object(x.jsxs)("div",{className:"collapse navbar-collapse",children:[Object(x.jsx)("ul",{className:"navbar-nav mr-auto",children:Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Search for events",value:g,onChange:e=>y(e.target.value)})})}),Object(x.jsxs)("ul",{className:"navbar-nav ml-auto",children:[n?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(o.b,{to:"/profile",children:Object(x.jsx)("button",{className:"btn btn-primary",children:"Profile"})})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("button",{className:"btn btn-danger",onClick:()=>t({returnTo:window.location.origin}),children:"Log Out"})})]}):Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("button",{className:"btn btn-primary",onClick:()=>e(),children:"Log In"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("button",{className:"btn btn-info",onClick:()=>m(!d),children:d?"Light Mode":"Dark Mode"})}),Object(x.jsx)("li",{children:Object(x.jsx)("div",{children:n?Object(x.jsxs)("p",{children:["Hello, ",a.name]}):null})})]})]})]}),Object(x.jsxs)(l.c,{children:[Object(x.jsx)(l.a,{path:"/",element:Object(x.jsx)(p,{searchQuery:g})}),Object(x.jsx)(l.a,{path:"/profile",element:Object(x.jsx)(f,{})}),Object(x.jsx)(l.a,{path:"/events/:eventID",element:Object(x.jsx)(C,{})}),Object(x.jsx)(l.a,{path:"/events/:eventID/payment",element:Object(x.jsx)(S,{})}),Object(x.jsx)(l.a,{path:"/create-event",element:Object(x.jsx)(I,{})})]}),E&&Object(x.jsx)("div",{className:"modal",tabIndex:"-1",role:"dialog",style:{display:"block"},children:Object(x.jsx)("div",{className:"modal-dialog",role:"document",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header",children:[Object(x.jsx)("h5",{className:"modal-title",children:"Additional Information Required"}),Object(x.jsx)("button",{type:"button",className:"close",onClick:()=>N(!1),children:Object(x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(x.jsx)("div",{className:"modal-body",children:Object(x.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await(async(e,t)=>{try{const a=await O();return j.a.put(`${h}/users/${e}`,{organization:t},{headers:{Authorization:`Bearer ${a}`}})}catch(a){throw console.error("Error updating user organization:",a),a}})(a.sub,w),N(!1)}catch(t){console.error("Error submitting modal form:",t)}},children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"email",value:_,readOnly:!0})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"firstName",value:k,onChange:e=>T(e.target.value),required:!0})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"lastName",value:D,onChange:e=>F(e.target.value),required:!0})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"organization",children:"Organization:"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"organization",value:w,onChange:e=>A(e.target.value),required:!0})]}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})})]})};var A=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,61)).then((t=>{let{getCLS:a,getFID:r,getFCP:n,getLCP:s,getTTFB:c}=t;a(e),r(e),n(e),s(e),c(e)}))};class k extends r.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error("Error caught by ErrorBoundary:",e,t)}render(){return this.state.hasError?Object(x.jsx)("h1",{children:"Something went wrong. Please try again later."}):this.props.children}}var T=k,D=a(29),F=a.n(D);a(45);F.a.setAppElement("#root");c.a.createRoot(document.getElementById("root")).render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(T,{children:Object(x.jsxs)(o.a,{children:["  ",Object(x.jsx)(i.a,{domain:u.REACT_APP_AUTH0_DOMAIN,clientId:u.REACT_APP_AUTH0_CLIENT_ID,authorizationParams:{redirect_uri:window.location.origin,audience:u.REACT_APP_AUTH0_AUDIENCE,scope:["profile","email"].join(" ")},children:Object(x.jsx)(w,{})})]})})})),A()},9:function(e){e.exports=JSON.parse('{"REACT_APP_AUTH0_DOMAIN":"dev-b2liv381nwhfqbp7.us.auth0.com","REACT_APP_AUTH0_CLIENT_ID":"cc1Y3BWTktFnUhBjSvCVFiyXWXqsDbFZ","REACT_APP_AUTH0_AUDIENCE":"https://eventbrite-clone.example.com","TEST_ACCESS_TOKEN":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjJJb015Q2Rkd0RuVmladW5PdE1tNCJ9.eyJpc3MiOiJodHRwczovL2Rldi1iMmxpdjM4MW53aGZxYnA3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJxQ0pUbnhJTWJVQUhwQzB0RGp0RHhzUlFqRFBpbjFrcUBjbGllbnRzIiwiYXVkIjoiaHR0cHM6Ly9ldmVudGJyaXRlLWNsb25lLmV4YW1wbGUuY29tIiwiaWF0IjoxNzIzMTI2MDA1LCJleHAiOjE3MjMyMTI0MDUsImd0eSI6ImNsaWVudC1jcmVkZW50aWFscyIsImF6cCI6InFDSlRueElNYlVBSHBDMHREanREeHNSUWpEUGluMWtxIn0.Ncq20j_cirWP-URNa3VUccf0TSbe1rgdUDSY-moZ1NDoU1xJKTE8yJObiKLpw2P5h0ZgAqyS0wrFs3dJxpo5mU4iU1gWUYF5FNk6zMER-RdHiIzWLdx0jYhRC-gVvqAn8gmhClUl8YlhC5igxYBEViE7NxfjfX9cJ1kfMl9vjr283PD6fkr6VvLEDzqY5nrvWAXNXQFEIWr7IzTxy6kO8KjACzz9QR4Y-Jv0VUXCDZGBswKi4ge1sge1P12zu4RbQ5kJVSIkgsPPRpubMeUczIgtAoCfR-3mk-qTPDVPzlPe1aoFKFJ5E0IWfVD_uNKc4HOEj2r1wkaIR2zLSoFqxA"}')}},[[56,1,2]]]);
//# sourceMappingURL=main.0fc40ae0.chunk.js.map